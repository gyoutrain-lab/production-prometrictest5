<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nursing Prometric Simulation</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <!-- your existing CSS unchanged -->
  <style>
    /* ... (your full CSS from original) ... */
  </style>
</head>
<body>
  <!-- your full landing + quiz HTML as before -->
  <div id="landing">
    <img class="upper-img" src="https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest5/main/assets/icon.jpg" alt="icon">
    <canvas id="waterCanvas"></canvas>
    <div class="landing-content-overlay">
      <h1>Nursing Prometric Actual Simulation Test</h1>
      <h3>Based on Prometric/SMLE Saudi Council & ENCLEX test materials (tricky/hard)<br>Prepared by Giyono Asfarrasyid, ETK Yogyakarta</h3>

      <div class="social">
        <a href="tel:+6285399652487"><img src="https://cdn-icons-png.flaticon.com/512/597/597177.png"></a>
        <a href="https://wa.me/6285399652487"><img src="https://cdn-icons-png.flaticon.com/512/733/733585.png"></a>
        <a href="mailto:gyoutrain@gmail.com"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png"></a>
        <a href="https://web.facebook.com/gyouskill/"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png"></a>
        <a href="https://www.instagram.com/etkyogya"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png"></a>
      </div>

      <div class="registration">
        <input type="text" id="username" placeholder="User Name">
        <input type="text" id="wanumber" placeholder="WA Number">
        <button id="registerBtn">Register</button>
      </div>

      <div id="unlockMessage"></div>
      <button id="startQuizBtn">Load & Start Quiz</button>
      <img id="qrImage" src="https://raw.githubusercontent.com/gyoutrain-lab/production-prometrictest5/main/assets/danaqr.png" alt="danaqr">
    </div>
  </div>

  <div id="quizPage">
    <div class="quiz-header">
      <h1>Prometric Nursing Quiz</h1>
      <h3 id="questionCounter">Question 1 of 20</h3>
    </div>
    <div id="quizContent"></div>
    <div class="quiz-footer">
      <button id="prevBtn">Previous</button>
      <button id="nextBtn">Next</button>
    </div>
  </div>

  <div class="popup" id="popup"></div>

  <script>
    // same JS as your original, but with correct URL:
    const GOOGLE_SCRIPT_URL =
      "https://script.google.com/macros/s/AKfycbx8D_T9emzTO-rm6fJ-qIPMNVLjWhryz0xs6lLqUTGzAePQ0Tdsq14RFiEKs2drsFOb-w/exec";

    const registerBtn = document.getElementById('registerBtn');
    const unlockMessage = document.getElementById('unlockMessage');
    const startQuizBtn = document.getElementById('startQuizBtn');
    const landing = document.getElementById('landing');
    const quizPage = document.getElementById('quizPage');

    registerBtn.addEventListener('click', async () => {
      const name = document.getElementById('username').value.trim();
      const phone = document.getElementById('wanumber').value.trim();
      if (!name || !phone) { showPopup("Fill all fields!"); return; }

      try {
        const res = await fetch(GOOGLE_SCRIPT_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, phone })
        });
        const data = await res.json();
        if (data.ok) {
          unlockMessage.textContent = data.unlockCode;
          unlockMessage.classList.add("show");
          showPopup("Unlock code sent!");
          startQuizBtn.style.display = "inline-block";
          triggerConfetti();
        } else {
          showPopup(data.message);
        }
      } catch (e) {
        showPopup("Server error!");
        console.error(e);
      }
    });

    // ... rest of your JS (quiz loader, renderQuestion etc) unchanged ...
  </script>
</body>
</html>
